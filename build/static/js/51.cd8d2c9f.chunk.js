(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{685:function(e,t,a){"use strict";a.r(t);var n=a(64),c=a(65),s=a(67),i=a(66),o=a(68),m=a(62),u=a(0),h=a.n(u),r=a(200),d=a(212),p=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).paytmRedirect=function(){a.checkSumIntegrate().then(function(e){if(!1!==e){var t,n={MID:"KEwVzk68823288397743",ORDER_ID:a.props.match.params.orderid,CUST_ID:sessionStorage.getItem("username"),INDUSTRY_TYPE_ID:"Retail",CHANNEL_ID:"WEB",TXN_AMOUNT:a.props.match.params.amount,WEBSITE:"WEB_STAGING",CHECKSUMHASH:e,MSISDN:"7820888883",VERIFIED_BY:"EMAIL",IS_USER_VERIFIED:"YES"},c={method:"POST",headers:{},body:JSON.stringify(n)};t="".concat(r.a.PAYTM_TXN_URL),fetch(t,c).then(function(e){console.log("response===>>>",e);Object(d.c)("Wrong",e.status,e.message,2)}).catch(function(e){Object(d.c)("Wrong",!1,e.toString(),0)})}})},a.checkSumIntegrate=function(){var e=Object(m.a)(Object(m.a)(a));return new Promise(function(t,a){var n={orderid:e.props.match.params.orderid,custid:sessionStorage.getItem("username"),txnamount:e.props.match.params.amount,pcode:"no"===e.props.match.params.promocode?"":e.props.match.params.promocode},c={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+sessionStorage.getItem("jwt")},body:JSON.stringify(n)},s="".concat(r.a.API_URL);fetch(s+"/frontapi/generatechecksum",c).then(function(a){!0===Object(d.c)("Wrong",a.status,a.message,2)?a.json().then(function(a){console.log("json=",a),!1===a.error?(console.log("checkkkkkkkkk-",a.data),e.setState({checksum:a.data}),t(a.data)):t(!1)}):t(!1)}).catch(function(e){t(!1)})})},a.onChange=function(e){},a.state={checksum:!1},Object(d.w)(),a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.checkSumIntegrate()}},{key:"componentDidUpdate",value:function(e,t){this.state.checksum.MID&&this.state.checksum.ORDER_ID&&this.state.checksum.CUST_ID&&this.state.checksum.INDUSTRY_TYPE_ID&&this.state.checksum.CHANNEL_ID&&this.state.checksum.TXN_AMOUNT&&this.state.checksum.WEBSITE&&this.state.checksum.CALLBACK_URL&&this.state.checksum.checksum&&document.getElementById("f1").submit()}},{key:"render",value:function(){var e="".concat(r.a.PAYTM_TXN_URL);return h.a.createElement("div",null,h.a.createElement("center",null,h.a.createElement("h1",null,"Please do not refresh this page...")),h.a.createElement("form",{name:"f1",id:"f1",method:"post",action:e},h.a.createElement("input",{type:"hidden",id:"MID",name:"MID",onBeforeInput:this.onChange,value:this.state.checksum.MID}),h.a.createElement("input",{type:"hidden",id:"ORDER_ID",name:"ORDER_ID",value:this.state.checksum.ORDER_ID}),h.a.createElement("input",{type:"hidden",id:"CUST_ID",name:"CUST_ID",value:this.state.checksum.CUST_ID}),h.a.createElement("input",{type:"hidden",id:"INDUSTRY_TYPE_ID",name:"INDUSTRY_TYPE_ID",value:this.state.checksum.INDUSTRY_TYPE_ID}),h.a.createElement("input",{type:"hidden",id:"CHANNEL_ID",name:"CHANNEL_ID",value:this.state.checksum.CHANNEL_ID}),h.a.createElement("input",{type:"hidden",id:"TXN_AMOUNT",name:"TXN_AMOUNT",value:this.state.checksum.TXN_AMOUNT}),h.a.createElement("input",{type:"hidden",id:"WEBSITE",name:"WEBSITE",value:this.state.checksum.WEBSITE}),h.a.createElement("input",{type:"hidden",id:"CALLBACK_URL",name:"CALLBACK_URL",value:this.state.checksum.CALLBACK_URL}),h.a.createElement("input",{type:"hidden",id:"CHECKSUMHASH",name:"CHECKSUMHASH",value:this.state.checksum.checksum}),h.a.createElement("input",{type:"submit",id:"s1",name:"s1",value:"Submit",className:"hidden"})))}}]),t}(u.Component);t.default=p}}]);
//# sourceMappingURL=51.cd8d2c9f.chunk.js.map