(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{439:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},677:function(e,t,a){"use strict";a.r(t);var n,s=a(63),c=a(64),i=a(66),o=a(65),r=a(67),m=a(62),l=a(0),d=a.n(l),p=a(199),g=a(212),h=a(275),u=0,f=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(o.a)(t).call(this,e))).getUserTeam=function(){var e=Object(m.a)(Object(m.a)(a)),t={matchid:a.props.match.params.matchid,poolcontestid:""},n={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+sessionStorage.getItem("jwt")},body:JSON.stringify(t)},s="".concat(p.a.API_URL);fetch(s+"/frontapi/getuserteam",n).then(function(t){!0===Object(g.c)("Wrong",t.status,t.message,2)&&t.json().then(function(t){!1===t.error?e.setState({userteam:t.data.teams,userteamcount:t.data.total}):e.setState({userteam:[]})})}).catch(function(e){Object(g.c)("Wrong",!1,e.toString(),0)})},a.onClickCreateTeam=function(){if(a.state.userteamcount<6){var e=a.props.match.params.matchid;window.location.href=g.a+"/CreateTeams/"+e}else Object(g.c)("Warning",!1,"Your limit is 6 team to create",3)},a.getTeamDetail=function(e){var t=Object(m.a)(Object(m.a)(a)),n={teamid:e},s={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+sessionStorage.getItem("jwt")},body:JSON.stringify(n)},c="".concat(p.a.API_URL);fetch(c+"/frontapi/getuserteamplayer",s).then(function(e){!0===Object(g.c)("Wrong",e.status,e.message,2)&&e.json().then(function(e){if(!1===e.error){var a={};Object.keys(t.state.playertypelist).forEach(function(t,n){var s=e.data.filter(function(e){return e.playertype==t});a[t]=s}),t.setState({getaddedplayeritems:a})}else t.setState({getaddedplayeritems:[]})})}).catch(function(e){Object(g.c)("Wrong",!1,e.toString(),0)})},a.onClickPreviw=function(e){a.setState({teamview:1}),a.getTeamDetail(e)},a.getPlayerType=function(){var e=Object(m.a)(Object(m.a)(a)),t=(a.props.match.params.matchid,{gameid:sessionStorage.getItem("gameid")}),n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},s="".concat(p.a.API_URL);fetch(s+"/getplayertype",n).then(function(t){!0===Object(g.c)("Wrong",t.status,t.message,2)&&t.json().then(function(t){if(!1===t.error){var a={};t.data.list.map(function(e,t){a[e.id]=e}),e.setState({playertypelist:a})}else e.setState({playertypelist:[]})})}).catch(function(e){Object(g.c)("Wrong",!1,e.toString(),0)})},a.goBack=function(){window.history.back()},a.sendHome=function(){window.location.href=g.a+"/Home"},a.onChangeCheckbox=function(e){var t=a.state.getjoinedteamlist,n=parseInt(e.target.value);!1!==e.target.checked||t.uteamid?!0===e.target.checked&&t.uteamid&&!t.switchteamid?(t[n]=!0,t.switchteamid=n):!1===e.target.checked&&n===t.switchteamid&&(t[n]=!1,delete t.switchteamid):(t[n]=!1,t.uteamid=n),a.setState({getjoinedteamlist:t},function(){})},a.getJoinedTeam=function(){var e=Object(m.a)(Object(m.a)(a)),t={matchid:a.props.match.params.matchid,poolcontestid:a.props.match.params.poolid},n={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+sessionStorage.getItem("jwt")},body:JSON.stringify(t)},s=(a.state.pageno,"".concat(p.a.API_URL));fetch(s+"/frontapi/getjoinedteam",n).then(function(t){!0===Object(g.c)("Wrong",t.status,t.message,2)&&t.json().then(function(t){if(!1===t.error){var a={};t.data.map(function(e,t){a[e.uteamid]=!0}),e.setState({getjoinedteamlist:a})}else e.setState({getjoinedteamlist:{}})})}).catch(function(e){Object(g.c)("Wrong",!1,e.toString(),0)})},a.onClickSaveSwitchTeam=function(){var e=Object(m.a)(Object(m.a)(a)),t=a.props.match.params.matchid,n=a.props.match.params.poolid,s=a.state.getjoinedteamlist.uteamid,c=a.state.getjoinedteamlist.switchteamid;if(s&&c){var i={matchid:t,poolcontestid:n,uteamid:s,switchteamid:c},o={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+sessionStorage.getItem("jwt")},body:JSON.stringify(i)},r=(a.state.pageno,"".concat(p.a.API_URL));fetch(r+"/frontapi/switchteam",o).then(function(t){!0===Object(g.c)("Wrong",t.status,t.message,2)&&t.json().then(function(t){!1===t.error?(Object(g.c)("Switched",200,t.msg,1),e.goBack()):Object(g.c)("Warning",!1,t.msg,3)})}).catch(function(e){Object(g.c)("Wrong",!1,e.toString(),0)})}else Object(g.c)("Warning",!1,"Please select switched team",3)},a.state={getaddedplayeritems:[],userteamcount:0,teamview:0,userteam:[],playertypelist:[],arrayplayertype:{},checkplayerlist:[],time:0,seconds:0,checkid:0,getjoinedteamlist:{}},Object(g.u)(),a.startTimer=a.startTimer.bind(Object(m.a)(Object(m.a)(a))),a}return Object(r.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;Object(g.u)(),Object(g.j)().then(function(t){u=t,clearInterval(n),e.startTimer(),e.getUserTeam(),e.getPlayerType(),e.getJoinedTeam()})}},{key:"startTimer",value:function(){var e=this,t=this.props.match.params.matchid;n=setInterval(function(){u+=1e3;var a=sessionStorage.getItem("endtime_"+t);if(a){var s=1e3*parseInt(a),c=Object(g.e)(s,u),i=Object(g.s)(c),o=!(c<0);c<0&&clearInterval(n),e.setState({seconds:c,time:i,allowContestToEdit:o},function(){e.state.time.h<0&&Object(g.k)()})}else sessionStorage.getItem("jwt")&&(window.location.href=g.g)},1e3)}},{key:"render",value:function(){var e=this,t=this.props.match.params.matchid;return d.a.createElement("div",{className:"fadeIn"},d.a.createElement(h.AvForm,null,d.a.createElement("div",{className:"left_logincontent profilepadding0"},d.a.createElement("div",{className:"background-cover ng-scope"},d.a.createElement("div",{className:"header_bg"},d.a.createElement("div",{className:"hd_left"},d.a.createElement("span",{onClick:g.k,className:"hd_back"}),d.a.createElement("span",{onClick:g.t,className:"hd_home"})),d.a.createElement("div",{className:"hd_center"},"ChooseTeam"===this.props.location.pathname?"Choose Team":"Switch Team"," ")),d.a.createElement("div",{className:"curremt_matchdetailbox"},d.a.createElement("div",{className:"allover_ctcpart"},d.a.createElement("div",{className:"left_ctboxit"},sessionStorage.getItem("team1_"+t),d.a.createElement("span",{className:"left_teamcurrent"},"vs"),sessionStorage.getItem("team2_"+t)," "),d.a.createElement("div",{className:"right_ctboxit pull-right"},"  ",e.state.time.h,"h ",e.state.time.m,"m ",e.state.time.s,"s "))),d.a.createElement("div",{className:"dress_area"},d.a.createElement("h3",null,"Choose team to join the contest with"),e.state.userteam.map(function(t,a){return d.a.createElement("div",{className:"caption_ctamod pointer "+(!0===e.state.getjoinedteamlist[t.id]?"contestteamselected":""),key:t.id},d.a.createElement("h3",null,d.a.createElement("span",{className:"intem_all pointern"},d.a.createElement("input",{type:"checkbox",value:t.id,checked:!0===e.state.getjoinedteamlist[t.id],onChange:e.onChangeCheckbox}))," ","Team: "+(a+1)),d.a.createElement("div",{className:"bdo_topends pointernone"},d.a.createElement("div",{className:"bdo_topendsright pointernone"}," ",d.a.createElement("p",null,"Caption ",d.a.createElement("span",{className:"cpname_ecss pointernone"},t.cap))," "),d.a.createElement("div",{className:"bdo_topendsleft pointernone"}," ",d.a.createElement("p",null,"Vice Caption ",d.a.createElement("span",{className:"cpname_ecss pointernone"},t.vcap))," ")),d.a.createElement("div",{className:"edpri_clos"},d.a.createElement("div",{className:"col-sm-4 "},d.a.createElement("a",{className:"edoxed01",id:t.id,onClick:function(){return e.onClickPreviw(t.id)}},d.a.createElement("i",{className:"fa fa-eye pointernone"})," Preview "))))})))),"ChooseTeam"===this.props.location.pathname?d.a.createElement("a",{className:"all_transaction up_bt"}," ",d.a.createElement("button",{className:"savebtn_pencard pointer"},"JOIN")," "):d.a.createElement("div",{className:"teamjoint_contestend"},6===e.state.userteamcount?d.a.createElement("a",{className:"mytems_ategbox pointernone"},"6 Team Created"):d.a.createElement("a",{href:g.a+"/CreateTeams/"+t,className:"mytems_ategbox"}," Create Team (",e.state.userteamcount+1,")"),d.a.createElement("a",{className:"joiendctox_ategbox",onClick:this.onClickSaveSwitchTeam},"Switch Team"))),d.a.createElement("div",{className:"teampreview"+(0===e.state.teamview?" hidden":"")},d.a.createElement("div",{className:"innercontent "+(sessionStorage.getItem("gameid")&&"2"===sessionStorage.getItem("gameid")?"football-ground-image ":"")+(sessionStorage.getItem("gameid")&&"3"===sessionStorage.getItem("gameid")?"kabaddi-ground-image ":"")},d.a.createElement("div",{className:"miniextra_groundbd"},Object.keys(e.state.getaddedplayeritems).map(function(t,a){return d.a.createElement("div",{key:a,className:"wk_craditbox"},d.a.createElement("h2",null,e.state.playertypelist[t].name),d.a.createElement("div",{className:"wkoals_main"},d.a.createElement("ul",null,Object.keys(e.state.getaddedplayeritems[t]).map(function(a,n){return d.a.createElement("li",{key:n},d.a.createElement("div",{className:"int_roundbd"},d.a.createElement("div",{className:"circle_picmd"},d.a.createElement("img",{src:e.state.getaddedplayeritems[t][a].pimg,className:"flag_008b5"})),d.a.createElement("p",{title:e.state.getaddedplayeritems[t][a].pname}," ",e.state.getaddedplayeritems[t][a].pname," "),d.a.createElement("span",{className:"val_incrpoint"},e.state.getaddedplayeritems[t][a].credit," Cr")))}))))})))))}}]),t}(l.Component);t.default=f}}]);
//# sourceMappingURL=47.e6e81fee.chunk.js.map